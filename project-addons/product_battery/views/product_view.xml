<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_template_property_form_add_battery" model="ir.ui.view">
        <field name="name">view.template.property.form.add_battery</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="stock.view_template_property_form"/>
        <field name="arch" type="xml">
            <group name="group_lots_and_weight" position="inside">
                <field name="battery_id"/>
                <field name="battery_mode" attrs="{'required':[('battery_id','!=',False),('battery_id','!=',%(product_battery.no_battery)d),('state','!=','end')],
                'readonly':['|',('battery_id','=',False),('battery_id','=',%(product_battery.no_battery)d)]}"/>
                <field name="num_batteries" attrs="{'required':[('battery_id','!=',False),('battery_id','!=',%(product_battery.no_battery)d),('state','!=','end')],
                'readonly':['|',('battery_id','=',False),('battery_id','=',%(product_battery.no_battery)d)]}"/>
            </group>
        </field>
    </record>
</odoo>
